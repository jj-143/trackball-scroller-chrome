<head>
  <meta name="application-name" content="trackball-scroller-options" />
</head>
<div>
  <button id="delayed-disable" data-cy="delayed-disable">
    disable after 1sec
  </button>
</div>

<div style="overflow: auto; height: 500px" id="test-context">
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
  <div>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci fugit
    ratione consequatur numquam ipsam quidem alias accusamus consectetur. Facere
    harum rerum impedit explicabo nemo saepe autem culpa labore consequatur
    enim.
  </div>
</div>
<script type="module">
  import { initScroller } from "../helpers"

  ;(async () => {
    const { store } = await initScroller()

    // simulates disable, allowing a situation of disabling while activated.
    const button = document.getElementById("delayed-disable")
    button.addEventListener("click", () => {
      setTimeout(async () => {
        const settings = await store.getStore()
        store.updateStore({
          ...settings,
          enabled: false,
        })
      }, 1000)
    })
  })()
</script>
